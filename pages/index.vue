<template>
  <div>
    <depthOne />
    <nuxt-link to="depthOne">page depthOne</nuxt-link>
    <div class="cont-wrap">
      <ul>
        <li>
          ì²« ì§„ì…, ìƒˆë¡œê³ ì¹¨ ì‹œ ë¡œê·¸ê°€ 2ë²ˆ ëœ¨ëŠ” ì´ìœ  : nuxtê°€ ëª¨ë“  ì‘ì—…ì„
          clientì¸¡ì—ì„œ ìˆ˜í–‰í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼
          <strong class="txt-ssr">pre-rendering</strong> (SSR) ê³¼ì •ì—ì„œ í•œë²ˆ
          ì‹¤í–‰ ë˜ê³  í˜ì´ì§€ ë¡œë“œê°€ ì™„ë£Œ ëœ í›„ javascriptê°€ í•œë²ˆ ë” ì‹¤í–‰ ë˜ì–´ ë‘ë²ˆ
          í‘œì‹œ ë˜ëŠ” ê²ƒ. ì´ ê³¼ì •ì„
          <strong class="txt-important">hydration</strong> ê³¼ì • ì´ë¼ê³  í•œë‹¤.
          <a href="https://jh-7.tistory.com/27" target="_blank"
            >Universal Mode ì°¸ê³  ìë£Œ</a
          >
        </li>
        <li>
          <h4>SSR (ì„œë²„ ì‚¬ì´ë“œ ëœë”ë§)</h4>
          <strong class="txt-ssr">nuxtServerInit</strong> >
          <strong class="txt-ssr">middleware</strong> >
          <strong class="txt-ssr">asyncData</strong> >
          <strong class="txt-ssr">beforeCreate</strong> >
          <strong class="txt-ssr">create</strong> >
          <strong class="txt-ssr">fetch</strong>
        </li>
        <li>
          <h4>CSR (í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ëœë”ë§)</h4>
          <strong class="txt-csr">beforeCreate</strong> >
          <strong class="txt-csr">create</strong> >
          <strong class="txt-csr">beforeMount</strong> >
          <strong class="txt-csr">plugin</strong> >
          <strong class="txt-csr">mounted</strong> > (rebuild) >
          <strong class="txt-csr">beforeUpdate</strong> >
          <strong class="txt-csr">update</strong>
        </li>
        <li>
          <h4>í˜ì´ì§€ ì „í™˜ ì‹œ</h4>
          ìµœìƒë‹¨ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸
          <strong class="txt-csr">middleware</strong> > ìµœìƒë‹¨ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸
          <strong class="txt-csr">asyncData</strong> > ì´ì „ í˜ì´ì§€ ìµœìƒë‹¨ ë¶€ëª¨
          ì»´í¬ë„ŒíŠ¸ ë¶€í„° <strong class="txt-csr">brforeDestroy</strong> > ìµœí•˜ë‹¨
          ìì‹ ì»´í¬ë„ŒíŠ¸ ë¶€í„° <strong class="txt-csr">destroyed</strong> >
          (rendering) ìµœì´ˆ SSR ì´í›„ëŠ” í•„ìš”í•œ í˜ì´ì§€ë§Œ ë¡œë“œ í•˜ê¸° ë•Œë¬¸ì—
          <strong class="txt-important">SSR ê³¼ì •</strong> ìƒëµ í•˜ê³ 
          <strong class="txt-important">CSR ê³¼ì •</strong>ë§Œ ì§„í–‰ë¨ > (ìµœìƒë‹¨
          ì»´í¬ë„ŒíŠ¸ ë¶€í„°) ğ„† <strong class="txt-csr">beforeCreate</strong> >
          <strong class="txt-csr">create</strong> >
          <strong class="txt-csr">beforeMount</strong> >
          <strong class="txt-csr">fetch</strong> ğ„‡ > ìµœí•˜ë‹¨ ìì‹ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶€í„°
          <strong class="txt-csr">plugin</strong> > ìµœí•˜ë‹¨ ìì‹ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶€í„°
          <strong class="txt-csr">mounted</strong> > ì¤‘ê°„ ì„œë²„ ì—…ë°ì´íŠ¸
          (rebuild)ì‹œ <strong class="txt-csr">beforeUpdate</strong> >
          <strong class="txt-csr">update</strong>
        </li>
      </ul>
      <input v-model="bbb" type="text" />
    </div>
    <!-- https://levelup.gitconnected.com/the-complete-nuxt-guide-940751e1a6a5 -->
    <!-- https://heewon26.tistory.com/344 -->
    <!-- https://levelup.gitconnected.com/the-complete-nuxt-guide-940751e1a6a5 -->
  </div>
</template>

<script>
// import { mapState } from 'Vuex'
import DepthOne from '@/components/depthOne'

export default {
  // fetchOnServer: false, // default: true ì´ë©° server-rendering ì¤‘ì— fetch()ë¥¼ í˜¸ì¶œí• ì§€ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  name: 'IndexPage',
  components: { DepthOne },
  middleware() {
    // í˜ì´ì§€ ë‚´ì—ì„œì˜ ë¯¸ë“¤ì›¨ì–´ ì‚¬ìš©
    console.clear()
    console.log('%c<--------index loaded---------', 'color: red')
    console.log('%cindex. middleware local', 'color: red')
  },
  asyncData() {
    console.log('%cindex. asyncData', 'color: red')
  },
  data() {
    return {
      bbb: '',
    }
  },
  fetch() {
    console.log('%cindex. fetch', 'color: red')
  },
  computed: {
    aaa() {
      return console.log('%cindex. computed', 'color: red')
    },
  },
  mounted() {
    this.$sample('index. plugin')
    console.log('%cindex. mounted', 'color: red')
  },
  beforeCreate() {
    console.log('%cindex. beforeCreate', 'color: red')
  },
  created() {
    console.log('%cindex. create', 'color: red')
  },
  beforeMount() {
    console.log('%cindex. beforeMount', 'color: red')
  },
  beforeUpdate() {
    console.log('%cindex. beforeUpdate', 'color: red')
  },
  updated() {
    console.log('%cindex. updated', 'color: red')
  },
  activated() {
    console.log('%cindex. activated', 'color: red')
  },
  deactivated() {
    console.log('%cindex. deactivated', 'color: red')
  },
  beforeDestroy() {
    console.log('%cindex. beforeDestroy', 'color: red')
  },
  destroyed() {
    console.log('%cindex. destroyed', 'color: red')
    console.log('%c---------index destroyed-------->', 'color: red')
  },
}
</script>
<style scoped lang="scss">
ul {
  li {
    & + li {
      margin: 10px 0 0 0;
    }
  }
}
</style>
